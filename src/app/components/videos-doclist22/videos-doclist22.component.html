<div class="playlist" [ngClass]="{'opened': leftPaneToggle}">
<ul>
    <ng-template #recursiveTree let-toc>
        <li class="wtf" *ngFor="let item of toc; let i = index">
            <div *ngIf="item.plid; else titleonly">
                <!-- 
                    this causes the route to get get called and messes up the app.
                    <a href="#" (click)="lpl(item.plid)" >{{item.title}}</a>
                -->
                <!-- 
                    <a [routerLink] (click)="lpl(item.plid)" >{{item.title}}</a>
                    <button (click)="lpl(item.plid)" >{{item.title}}</button>
                -->
                    <button (click)="lpl(item.plid)" >{{item.title}}</button>
            </div>
            <ng-template #titleonly>
                    {{item.title}}
            </ng-template>
        <ul class="wtf" *ngIf="item.children.length > 0" >
            <ng-container *ngTemplateOutlet="recursiveTree; context:{ $implicit: item.children }"></ng-container>
        </ul>
        </li>
    </ng-template>
<ng-container *ngTemplateOutlet="recursiveTree; context:{ $implicit: toc }"></ng-container>
</ul>
</div>
